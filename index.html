<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe</title>
</head>
<body>
    <form id="signup-form">
        <input type="text" id="name" placeholder="Nome" required>
        <input type="number" id="age" placeholder="Idade" required>
        <input type="text" id="profession" placeholder="Profissão" required>
        <input type="file" id="photo" accept="image/*" required>
        <button type="submit">Criar Conta</button>
    </form>

    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "SUA_API_KEY",
            authDomain: "SEU_AUTH_DOMAIN",
            projectId: "SEU_PROJECT_ID",
            storageBucket: "SEU_STORAGE_BUCKET",
            messagingSenderId: "SEU_MESSAGING_SENDER_ID",
            appId: "SEU_APP_ID"
        };

        // Inicializando o Firebase
        firebase.initializeApp(firebaseConfig);
        const storage = firebase.storage();

        const signupForm = document.getElementById('signup-form');

        signupForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const profession = document.getElementById('profession').value;
            const file = document.getElementById('photo').files[0];

            if (file) {
                const storageRef = storage.ref('images/' + file.name);
                const uploadTask = storageRef.put(file);

                uploadTask.on('state_changed', function(snapshot) {
                    // Progresso do upload
                }, function(error) {
                    console.error(error);
                }, function() {
                    // Upload concluído, obtenha a URL da imagem
                    uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                        // Agora você pode salvar o URL da imagem no Firebase Database ou Firestore
                        alert('Imagem carregada com sucesso!');
                        alert('URL da imagem: ' + downloadURL);

                        // Redireciona ou faz outra ação com o URL da imagem
                        window.location.href = 'profiles.html';
                    });
                });
            }
        });
    </script>
</body>
</html>
